# 点云处理工具

## 项目简介
本项目包含三个主要功能：
1. **点云播放器**：从指定目录加载 `.ply` 文件并动态播放点云。
2. **点云压缩工具**：将 `.ply` 文件压缩为 `.drc` 格式（基于 Google Draco 压缩算法）。
3. **点云解压工具**：将 `.drc` 文件解压为 `.ply` 格式。

通过这些工具，可以高效地处理和可视化大规模点云数据。

---

## 环境配置

### 依赖项
以下是项目所需的依赖库及其版本要求：
- **Python**: 3.12
- **NumPy**: 1.26.4
- **Open3D**: 0.19.0
- **Plyfile**: 1.1
- **DracoPy**: 1.5.0

### 创建虚拟环境
我们推荐使用 `conda` 创建虚拟环境，并通过 `pip` 安装依赖包。

#### 步骤 1: 创建 Conda 环境
```bash
conda env create -f environment.yml
```

#### 步骤 2: 激活环境
```bash
conda activate ptcl-codec
```

#### 步骤 3: 验证安装
激活环境后，运行以下命令检查依赖是否正确安装：
```bash
pip list
```

---

## 使用说明

### 1. 点云播放器
#### 功能描述
动态加载并播放指定目录中的 `.ply` 文件。

#### 使用方法
修改脚本中的以下参数：
- `input_dir`: 包含 `.ply` 文件的目录路径。
- `frame_delay`: 每帧之间的间隔时间（秒）。

运行脚本：
```bash
python player.py --input_dir <输入目录>
```

---

### 2. 点云压缩工具
#### 功能描述
将 `.ply` 文件压缩为 `.drc` 格式，支持调整量化位数和压缩级别。

#### 使用方法
运行以下命令：
```bash
python compress.py --input_dir <输入目录> --output_dir <输出目录> --qp <可选的量化位数> --cl <可选的压缩级别>
```

---

### 3. 点云解码工具
#### 功能描述
将 `.drc` 文件解码为文本的 `.ply` 格式。

#### 使用方法
运行以下命令：
```bash
python decompress.py --input_dir <输入目录> --output_dir <输出目录>
```

---

## 注意事项

1. **文件格式**:
   - 输入的 `.ply` 文件应为标准文本格式（ASCII）。如果文件为二进制格式，可能需要转换为文本格式后再使用。

2. **性能优化**:
   - 压缩级别（`compression_level`）和量化位数（`quantization_bits`）会影响压缩速度和文件大小。建议根据实际需求调整参数。

3. **环境隔离**:
   - 建议使用虚拟环境（如 Conda ）以避免依赖冲突。
